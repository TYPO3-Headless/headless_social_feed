<div xmlns:f="http://typo3.org/ns/TYPO3/Fluid/ViewHelpers" data-namespace-typo3-fluid="true">
    <f:spaceless>
        {"list": [<f:for each="{feeds}" as="feedsItem" iteration="feedsIterator">
            <f:render section="FeedsListView" arguments="{feedsItem: feedsItem, settings:settings, iterator:iterator}" />
                {f:if(condition: feedsIterator.isLast, else: ',')}
            </f:for>],
                "settings":
                <f:format.raw>
                    <f:format.json value="{
                    orderBy: settings.orderBy,
                    orderDirection: settings.orderDirection,
                    templateLayout: settings.templateLayout,
                    action: 'list'
                }"/>
                </f:format.raw>
                }
    </f:spaceless>
    <f:section name="FeedsListView">
        <f:spaceless>
            <f:format.raw>
                <f:format.json value="{
                    uid: feedsItem.uid,
                    title: feedsItem.title,
                    crdate: '{f:if(condition: feedsItem.crdate, then: \'{feedsItem.crdate -> f:format.date(format: settings.dateFormat)}\')}',
                    tstamp: '{f:if(condition: feedsItem.tstamp, then: \'{feedsItem.tstamp -> f:format.date(format: settings.dateFormat)}\')}',
                    postdate: feedsItem.postDate,
                    message: feedsItem.message,
                    postUrl: feedsItem.postUrl,
                    likes: feedsItem.likes
                }"/>
            </f:format.raw>
        </f:spaceless>
    </f:section>
</div>
